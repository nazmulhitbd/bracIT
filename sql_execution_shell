#!/bin/bash

PGDUMP=/usr/edb/as11/bin/psql
PORT=4550
BACKUP_LOCATION=/data/backup/script
LOGFILE=$BACKUP_LOCATION/sqlfile.log
DB_NAME=test
BACKUP_USER=enterprisedb
BACKUP_PASS='xxxx'
FILE_NAME1="/tmp/index.sql"
#FILE_NAME2="/tmp/20200523/script_2.sql"
#FILE_NAME3="/tmp/20200523/script_3.sql"

# FOR SCRIPT-1
echo "$(date) :[$FILE_NAME1] FILE EXECUTION IS STARTED" >> $LOGFILE;
PGPASSWORD=$BACKUP_PASS $PGDUMP --host localhost --port $PORT  -U $BACKUP_USER -d $DB_NAME -a -f $FILE_NAME1 2>> $LOGFILE
echo "$(date) : [$FILE_NAME1] FILE EXECUTION IS FINISHED" >> $LOGFILE;

# FOR SCRIPT-2
#echo "$(date) :[$FILE_NAME2] FILE EXECUTION IS STARTED" >> $LOGFILE;
#PGPASSWORD=$BACKUP_PASS $PGDUMP --host localhost --port $PORT  -U $BACKUP_USER -d $DB_NAME -a -f $FILE_NAME2 2>> $LOGFILE
#echo "$(date) : [$FILE_NAME2] FILE EXECUTION IS FINISHED" >> $LOGFILE;

# FOR SCRIPT-3
#echo "$(date) :[$FILE_NAME3] FILE EXECUTION IS STARTED" >> $LOGFILE;
#PGPASSWORD=$BACKUP_PASS $PGDUMP --host localhost --port $PORT  -U $BACKUP_USER -d $DB_NAME -a -f $FILE_NAME3 2>> $LOGFILE
#echo "$(date) : [$FILE_NAME3] FILE EXECUTION IS FINISHED" >> $LOGFILE;
exit

